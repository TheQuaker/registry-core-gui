<div id="form" class="offset-md-4 col-md-4">
  <div id="content">
    <!--<div class="menubar fixed">-->
      <!--<div class="sidebar-toggler visible-xs">-->
        <!--<i class="ion-navicon"></i>-->
      <!--</div>-->
    <!--</div>-->
    <div class="page-title">
      New resource type
      <small class="hidden-xs">
        <strong>This form has validation</strong>
      </small>
    </div>

    <div class="content-wrapper" *ngIf="resourceTypeForm">
      <form [formGroup]="resourceTypeForm" class="form-horizontal" novalidate="novalidate">

        <div class="form-group">
          <label class="control-label">Name</label>
          <div class="">
            <input type="text" class="form-control" formControlName="name">
          </div>
        </div>
        <div class="form-group">
          <label class="control-label">
            <input type="radio" name="schemaRadioBtn" id="schema" (change)="radioBtnUrl('schema')"
                   checked="checked">Schema
          </label>
          <div class="">
            <textarea rows="4" class="form-control" formControlName="schema"></textarea>
          </div>
        </div>
        <div class="form-group">
          <label class="control-label">
            <input type="radio" name="schemaRadioBtn" id="schemaURL" (change)="radioBtnUrl('url')">
            Schema URL
          </label>
          <div class="">
            <input class="form-control" formControlName="schemaUrl" type="text">
          </div>
        </div>

        <div formArrayName="indexFields" class="form-group">
          <div class="row">
            <label class="col-md-4 control-label">Index Fields</label>
            <button class="offset-md-4 btn btn-primary" (click)="addIndexField()">Add Index Field</button>
          </div>
          <div *ngFor="let fg of resourceTypeForm.controls['indexFields'].controls">
            <label class="control-label">Index Field:</label>
            <div [formGroup]="fg">
              <label>
                name: <input class="form-control" type="text" formControlName="name">
              </label>
              <label>
                path: <input class="form-control" type="text" formControlName="path">
              </label>
              <label>
                type: <input class="form-control" type="text" formControlName="type">
              </label>
              <!--<label>-->
              <!--defaultValue: <input class="form-control" type="text" formControlName="defaultValue">-->
              <!--</label>-->
              <label>
                multivalued:
                <select class="form-control" formControlName="multivalued">
                  <option value="false" selected>false</option>
                  <option value="true">true</option>
                </select>
              </label>
              <!--<label>-->
              <!--primaryKey: <input class="form-control" type="text" formControlName="primaryKey">-->
              <!--</label>-->
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="control-label">Payload Type</label>
          <div class="">
            <label class="radio-inline">
              <input type="radio" formControlName="payloadType" id="payloadTypeXML" value="xml" checked="checked"> XML
            </label>
            <label class="radio-inline">
              <input type="radio" formControlName="payloadType" id="payloadTypeJSON" value="json"> JSON
            </label>
          </div>
        </div>
        <div class="indexMapperClass">
          <div class="form-group">
            <label class="control-label">Index Mapper Class</label>
            <div class="">
              <label class="radio">
                <input type="radio" name="indexMapperClass" id="defaultMapperClass"
                       value="eu.openminted.registry.core.index.DefaultIndexMapper"
                       checked="checked" (change)="updateIndexMapperClass('default')">
                Default - eu.openminted.registry.core.index.DefaultIndexMapper
              </label>
            </div>
          </div>
          <div class="form-group">
            <div class="">
              <label class="radio">
                <input type="radio" name="indexMapperClass" id="otherMapperClass"
                       (change)="updateIndexMapperClass('other')"> Other -
              </label>
            </div>
            <div class="">
              <input type="text" class="form-control" formControlName="indexMapperClass">
            </div>
          </div>
        </div>
        <!--<div class="form-group">-->
        <!--<label class="col-sm-2 col-md-2 control-label">Index Mapper Class</label>-->
        <!--<div class="col-sm-10 col-md-8">-->
        <!--<label class="radio">-->
        <!--<input type="radio" name="indexMapperClassOptions" id="defaultMapperClass" value="xml" checked="checked">-->
        <!--Default - eu.openminted.registry.core.index.DefaultIndexMapper-->
        <!--</label>-->
        <!--<label class="radio col-sm-2">-->
        <!--<input type="radio" name="indexMapperClassOptions" id="otherMapperClass" value="json"> Other-->
        <!--</label>-->
        <!--<input class="form-control col-sm-10" name="customer[name]" type="text">-->
        <!--</div>-->
        <!--</div>-->
        <div class="form-group form-actions">
          <div class="">
            <button class="btn btn-default" (click)="goBack()">Back</button>
            <button class="btn btn-primary" [disabled]="!resourceTypeForm.valid" (click)="postResourceType()">Submit
            </button>
          </div>
        </div>
      </form>
      <p>
        Form Value: {{resourceTypeForm.value | json}}
      </p>
    </div>
  </div>
</div>
